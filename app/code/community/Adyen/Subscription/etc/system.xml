<?xml version="1.0"?>
<!--
/**
 *               _
 *              | |
 *     __ _   _ | | _  _   ___  _ __
 *    / _` | / || || || | / _ \| '  \
 *   | (_| ||  || || || ||  __/| || |
 *    \__,_| \__,_|\__, | \___||_||_|
 *                 |___/
 *
 * Adyen Subscription module (https://www.adyen.com/)
 *
 * Copyright (c) 2015 H&O (http://www.h-o.nl/)
 * See LICENSE.txt for license details.
 *
 * Author: Adyen <magento@adyen.com>, H&O <info@h-o.nl>
 */
-->
<config>
    <sections>
        <adyen_subscription translate="label" module="adyen_subscription">
            <label>Adyen Subscriptions</label>
            <tab>sales</tab>
            <sort_order>100</sort_order>
            <show_in_default>1</show_in_default>
            <show_in_website>1</show_in_website>
            <show_in_store>1</show_in_store>
            <groups>
                <general translate="label">
                    <label>General</label>
                    <sort_order>0</sort_order>
                    <show_in_default>1</show_in_default>
                    <show_in_website>1</show_in_website>
                    <show_in_store>1</show_in_store>
                    <fields>
                        <show_term_label translate="label">
                            <label>Show Term Label</label>
                            <frontend_type>select</frontend_type>
                            <source_model>adminhtml/system_config_source_yesno</source_model>
                            <show_in_default>1</show_in_default>
                            <show_in_website>1</show_in_website>
                            <show_in_store>1</show_in_store>
                            <sort_order>10</sort_order>
                            <comment><![CDATA[Renders a term label (ie. 'Every 6 months') after the custom Product Subscription label]]></comment>
                        </show_term_label>
                    </fields>
                </general>
                <subscription translate="label">
                    <label>Subscription</label>
                    <sort_order>10</sort_order>
                    <show_in_default>1</show_in_default>
                    <show_in_website>1</show_in_website>
                    <show_in_store>1</show_in_store>
                    <fields>
                        <cancel_reasons translate="label">
                            <label>Cancel Reasons</label>
                            <frontend_model>adyen_subscription/adminhtml_system_config_cancelReasons</frontend_model>
                            <backend_model>adminhtml/system_config_backend_serialized_array</backend_model>
                            <sort_order>10</sort_order>
                            <show_in_default>1</show_in_default>
                            <comment><![CDATA[]]></comment>
                        </cancel_reasons>
                        <allowed_payment_methods translate="label">
                                <label>Allowed payment methods</label>
                                <frontend_type>multiselect</frontend_type>
                                <sort_order>20</sort_order>
                                <source_model>adyen_subscription/system_config_source_allowedPaymentMethods</source_model>
                                <show_in_default>1</show_in_default>
                                <show_in_website>1</show_in_website>
                                <show_in_store>1</show_in_store>
                        </allowed_payment_methods>
                        <debug translate="label">
                            <label>Debug</label>
                            <frontend_type>select</frontend_type>
                            <source_model>adminhtml/system_config_source_yesno</source_model>
                            <sort_order>30</sort_order>
                            <show_in_default>1</show_in_default>
                            <show_in_website>0</show_in_website>
                            <show_in_store>0</show_in_store>
                        </debug>
                        <allow_cancel_subscription>
                            <label>Cancel Subscription</label>
                            <comment>Allow the shopper to cancel the subscription</comment>
                            <frontend_type>select</frontend_type>
                            <source_model>adminhtml/system_config_source_yesno</source_model>
                            <sort_order>40</sort_order>
                            <show_in_default>1</show_in_default>
                            <show_in_website>1</show_in_website>
                            <show_in_store>1</show_in_store>
                        </allow_cancel_subscription>
                        <allow_pause_resume_subscription>
                            <label>Pause/Resume Subscription</label>
                            <comment>Allow the shopper to pause/resume the subscription</comment>
                            <frontend_type>select</frontend_type>
                            <source_model>adminhtml/system_config_source_yesno</source_model>
                            <sort_order>45</sort_order>
                            <show_in_default>1</show_in_default>
                            <show_in_website>1</show_in_website>
                            <show_in_store>1</show_in_store>
                        </allow_pause_resume_subscription>
                        <retry_failed_payment>
                            <label>Retry failed payment</label>
                            <comment>If a payment failed do you want to try the payment again</comment>
                            <frontend_type>select</frontend_type>
                            <source_model>adminhtml/system_config_source_yesno</source_model>
                            <sort_order>46</sort_order>
                            <show_in_default>1</show_in_default>
                            <show_in_website>1</show_in_website>
                            <show_in_store>1</show_in_store>
                        </retry_failed_payment>
                        <number_retry_failed_payment>
                            <label>Number of retries for payment failure</label>
                            <comment>Keep empty for always</comment>
                            <tooltip>How many times do you want to retry it</tooltip>
                            <frontend_type>text</frontend_type>
                            <validate>validate-number</validate>
                            <sort_order>47</sort_order>
                            <show_in_default>1</show_in_default>
                            <show_in_website>1</show_in_website>
                            <show_in_store>1</show_in_store>
                            <depends><retry_failed_payment>1</retry_failed_payment></depends>
                        </number_retry_failed_payment>
                        <time_between_retry_failed_payment>
                            <label>Time (in hours) between retries payment failue</label>
                            <comment>Keep empty for the default time configured in cronjob schedule</comment>
                            <tooltip>When a payment failed how long do you want to wait for the next try. Keep in mind that it is depending on your create order cronjob as well.</tooltip>
                            <frontend_type>text</frontend_type>
                            <validate>validate-number</validate>
                            <sort_order>48</sort_order>
                            <show_in_default>1</show_in_default>
                            <show_in_website>1</show_in_website>
                            <show_in_store>1</show_in_store>
                            <depends><retry_failed_payment>1</retry_failed_payment></depends>
                        </time_between_retry_failed_payment>
                        <show_upcoming_orders>
                            <label>Show upcoming orders</label>
                            <comment>Show upcoming orders for the shopper</comment>
                            <frontend_type>select</frontend_type>
                            <source_model>adminhtml/system_config_source_yesno</source_model>
                            <sort_order>50</sort_order>
                            <show_in_default>1</show_in_default>
                            <show_in_website>1</show_in_website>
                            <show_in_store>1</show_in_store>
                        </show_upcoming_orders>
                        <number_of_upcoming_orders>
                            <label>Number of upcomming orders</label>
                            <comment>Number of upcomming orders to show</comment>
                            <frontend_type>text</frontend_type>
                            <sort_order>60</sort_order>
                            <show_in_default>1</show_in_default>
                            <show_in_website>1</show_in_website>
                            <show_in_store>1</show_in_store>
                            <depends><show_upcoming_orders>1</show_upcoming_orders></depends>
                        </number_of_upcoming_orders>
                        <cron_subscription_setting>
                            <label>How often do you want the create subscription cron to run?</label>
                            <frontend_type>text</frontend_type>
                            <sort_order>70</sort_order>
                            <comment>Use Crontab Format (Eg. "*/5 * * * *" for every 5 minutes)</comment>
                            <show_in_default>1</show_in_default>
                        </cron_subscription_setting>
                        <cron_quote_setting>
                            <label>How often do you want the create quote cron to run?</label>
                            <frontend_type>text</frontend_type>
                            <sort_order>80</sort_order>
                            <comment>Use Crontab Format (Eg. "*/5 * * * *" for every 5 minutes)</comment>
                            <show_in_default>1</show_in_default>
                        </cron_quote_setting>
                        <cron_order_setting>
                            <label>How often do you want the create order to run?</label>
                            <frontend_type>text</frontend_type>
                            <sort_order>90</sort_order>
                            <comment>Use Crontab Format (Eg. "*/5 * * * *" for every 5 minutes)</comment>
                            <show_in_default>1</show_in_default>
                        </cron_order_setting>
                    </fields>
                </subscription>
            </groups>
        </adyen_subscription>
    </sections>
</config>
